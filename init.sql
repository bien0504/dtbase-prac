USE master;

ALTER DATABASE QLBongDa_BienNC_865 SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
DROP DATABASE QLBongDa_BienNC_865;
GO
CREATE DATABASE QLBongDa_BienNC_865;
GO
USE QLBongDa_BienNC_865;

CREATE TABLE QUOCGIA_BienNC (
    MAQG_0101 VARCHAR(5) PRIMARY KEY,
    TENQG_0101 NVARCHAR(60) NOT NULL
);

CREATE TABLE TINH_BienNC (
    MATINH_0101 VARCHAR(5) PRIMARY KEY,
    TENTINH_0101 NVARCHAR(100) NOT NULL
);

CREATE TABLE SANVD_BienNC (
    MASAN_0101 VARCHAR(5) PRIMARY KEY,
    TENSAN_0101 NVARCHAR(100) NOT NULL,
    DIACHI_0101 NVARCHAR(200) 
);

CREATE TABLE CAULACBO_BienNC (
    MACLB_0101 VARCHAR(5) PRIMARY KEY,
    TENCLB_0101 NVARCHAR(100) NOT NULL,
    MASAN_0101 VARCHAR(5) NOT NULL,
    MATINH_0101 VARCHAR(5) NOT NULL,
    FOREIGN KEY (MASAN_0101) REFERENCES SANVD_BienNC(MASAN_0101),
    FOREIGN KEY (MATINH_0101) REFERENCES TINH_BienNC(MATINH_0101)
);

CREATE TABLE CAUTHU_BienNC (
    MACT_0101 NUMERIC IDENTITY(1, 1) PRIMARY KEY,
    HOTEN_0101 NVARCHAR(100) NOT NULL,
    VITRI_0101 NVARCHAR(20) NOT NULL,
    NGAYSINH_0101 DATETIME,
    DIACHI_0101 NVARCHAR(200),
    MACLB_0101 VARCHAR(5) NOT NULL,
    MAQG_0101 VARCHAR(5) NOT NULL,
    SO_0101 INT NOT NULL,
    FOREIGN KEY (MACLB_0101) REFERENCES CAULACBO_BienNC(MACLB_0101),
    FOREIGN KEY (MAQG_0101) REFERENCES QUOCGIA_BienNC(MAQG_0101)
);

CREATE TABLE HUANLUYENVIEN_BienNC (
    MAHLV_0101 VARCHAR(5) PRIMARY KEY,
    TENHLV_0101 NVARCHAR(100) NOT NULL,
    NGAYSINH_0101 DATETIME,
    DIACHI_0101 NVARCHAR(200),
    DIENTHOAI_0101 NVARCHAR(20),
    MAQG_0101 VARCHAR(5) NOT NULL,
    FOREIGN KEY (MAQG_0101) REFERENCES QUOCGIA_BienNC(MAQG_0101)
);

CREATE TABLE HLV_CLB_BienNC (
    MAHLV_0101 VARCHAR(5),
    MACLB_0101 VARCHAR(5),
    VAITRO_0101 NVARCHAR(100) NOT NULL,
    PRIMARY KEY (MAHLV_0101, MACLB_0101),
    FOREIGN KEY (MAHLV_0101) REFERENCES HUANLUYENVIEN_BienNC(MAHLV_0101),
    FOREIGN KEY (MACLB_0101) REFERENCES CAULACBO_BienNC(MACLB_0101)
);

CREATE TABLE TRANDAU_BienNC (
    MATRAN_0101 NUMERIC IDENTITY(1, 1) PRIMARY KEY,
    NAM_0101 INT NOT NULL,
    VONG_0101 INT NOT NULL,
    NGAYTD_0101 DATETIME NOT NULL,
    MACLB1_0101 VARCHAR(5) NOT NULL,
    MACLB2_0101 VARCHAR(5) NOT NULL,
    MASAN_0101 VARCHAR(5) NOT NULL,
    KETQUA_0101 VARCHAR(5) NOT NULL,
    FOREIGN KEY (MACLB1_0101) REFERENCES CAULACBO_BienNC(MACLB_0101),
    FOREIGN KEY (MACLB2_0101) REFERENCES CAULACBO_BienNC(MACLB_0101),
    FOREIGN KEY (MASAN_0101) REFERENCES SANVD_BienNC(MASAN_0101)
);

CREATE TABLE BANGXH_BienNC (
    MACLB_0101 VARCHAR(5),
    NAM_0101 INT,
    VONG_0101 INT,
    SOTRAN_0101 INT NOT NULL,
    THANG_0101 INT NOT NULL,
    HOA_0101 INT NOT NULL,
    THUA_0101 INT NOT NULL,
    HIEUSO_0101 VARCHAR(5) NOT NULL,
    DIEM_0101 INT NOT NULL,
    HANG_0101 INT NOT NULL,
    PRIMARY KEY (MACLB_0101, NAM_0101, VONG_0101),
    FOREIGN KEY (MACLB_0101) REFERENCES CAULACBO_BienNC(MACLB_0101)
);
GO

INSERT INTO QUOCGIA_BienNC(MAQG_0101, TENQG_0101) 
VALUES ('VN', N'Việt Nam'),
       ('ANH', N'Anh Quốc'),
       ('TBN', N'Tây Ban Nha'),
       ('BDN', N'Bồ Đào Nha'),
       ('BRA', N'Bra-xin'),
       ('ITA', N'Ý'),
       ('THA', N'Thái Lan');

INSERT INTO TINH_BienNC(MATINH_0101, TENTINH_0101)
VALUES ('BD', N'Bình Dương'),
       ('GL', N'Gia Lai'),
       ('DN', N'Đà Nẵng'),
       ('KH', N'Khánh Hòa'),
       ('PY', N'Phú Yên'),
       ('LA', N'Long An');

INSERT INTO SANVD_BienNC(MASAN_0101, TENSAN_0101, DIACHI_0101)
VALUES ('GD', N'Gò Đậu', N'123 QL 1, TX Thủ Dầu Một, Bình Dương'),
       ('PL', N'Pleiku', N'22 Hồ Tùng Mậu, Thống Nhất, Thị xã Pleiku, Gia Lai'),
       ('CL', N'Chi Lăng', N'127 Võ Văn Tần, Đà Nẵng'),
       ('NT', N'Nha Trang', N'128 Phan Chu Trinh, Nha Trang, Khánh Hòa'),
       ('TH', N'Tuy Hòa', N'57 Trường Chinh, Tuy Hòa, Phú Yên'),
       ('LA', N'Long An', N'102 Hùng Vương, Tp Tân An, Long An');

INSERT INTO CAULACBO_BienNC(MACLB_0101, TENCLB_0101, MASAN_0101, MATINH_0101)
VALUES ('BBD', N'BECAMEX BÌNH DƯƠNG', 'GD', 'BD'),
       ('HAGL', N'HOÀNG ANH GIA LAI', 'PL', 'GL'),
       ('SDN', N'SHB ĐÀ NẴNG', 'CL', 'DN'),
       ('KKH', N'KHATOCO KHÁNH HÒA', 'NT', 'KH'),
       ('TPY', N'THÉP PHÚ YÊN', 'TH', 'PY'),
       ('GDT', N'GẠCH ĐỒNG TÂM LONG AN', 'LA', 'LA');

SET IDENTITY_INSERT QLBongDa_BienNC_865.dbo.CAUTHU_BienNC ON

INSERT INTO CAUTHU_BienNC (MACT_0101, HOTEN_0101, VITRI_0101, NGAYSINH_0101, DIACHI_0101, MACLB_0101, MAQG_0101, SO_0101)
VALUES
(1, N'Nguyễn Vũ Phong', N'Tiền vệ', '1990-02-20', NULL, 'BBD', 'VN', 17),
(2, N'Nguyễn Công Vinh', N'Tiền đạo', '1992-03-10', NULL, 'HAGL', 'VN', 9),
(4, N'Trần Tấn Tài', N'Tiền vệ', '1989-11-12', NULL, 'BBD', 'VN', 8),
(5, N'Phan Hồng Sơn', N'Thủ môn', '1991-06-10', NULL, 'HAGL', 'VN', 1),
(6, N'Ronaldo', N'Tiền vệ', '1989-12-12', NULL, 'SDN', 'BRA', 7),
(7, N'Robinho', N'Tiền vệ', '1989-10-12', NULL, 'SDN', 'BRA', 8),
(8, N'Vidic', N'Hậu vệ', '1987-10-15', NULL, 'HAGL', 'ANH', 3),
(9, N'Trần Văn Santos', N'Thủ môn', '1990-10-21', NULL, 'BBD', 'BRA', 1),
(10, N'Nguyễn Trường Sơn', N'Hậu vệ', '1993-08-26', NULL, 'BBD', 'VN', 4);

INSERT INTO HUANLUYENVIEN_BienNC (MAHLV_0101, TENHLV_0101, NGAYSINH_0101, DIACHI_0101, DIENTHOAI_0101, MAQG_0101)
VALUES
('HLV01', N'Vital', '1955-10-15', NULL, '0918011075', 'BDN'),
('HLV02', N'Lê Huỳnh Đức', '1972-05-20', NULL, '01223456789', 'VN'),
('HLV03', N'Kiatisuk', '1970-12-11' , NULL, '01990123456', 'THA'),
('HLV04', N'Hoàng Anh Tuấn', '1970-06-10' , NULL, '0989112233', 'VN'),
('HLV05', N'Trần Công Minh', '1973-07-07', NULL, '09090999990', 'VN'),
('HLV06', N'Trần Văn Phúc', '1965-03-02' , NULL, '01650101234', 'VN');

INSERT INTO HLV_CLB_BienNC (MAHLV_0101, MACLB_0101, VAITRO_0101)
VALUES
('HLV01', 'BBD', N'HLV Chính'),
('HLV02', 'SDN', N'HLV Chính'),
('HLV03', 'HAGL', N'HLV Chính'),
('HLV04', 'KKH', N'HLV Chính'),
('HLV05', 'GDT', N'HLV Chính'),
('HLV06', 'BBD', N'HLV thủ môn');

INSERT INTO TRANDAU_BienNC (NAM_0101, VONG_0101, NGAYTD_0101, MACLB1_0101, MACLB2_0101, MASAN_0101, KETQUA_0101)
VALUES
(2009, 1, '2009-07-02', 'BBD', 'SDN', 'GD', '3-0'),
(2009, 1, '2009-07-02', 'KKH', 'GDT', 'NT', '1-1'),
(2009, 2, '2009-02-16', 'SDN', 'KKH', 'CL', '2-2'),
(2009, 2, '2009-02-16', 'TPY', 'BBD', 'TH', '5-0'),
(2009, 3, '2009-03-01', 'TPY', 'GDT', 'TH', '0-2'),
(2009, 3, '2009-03-01', 'KKH', 'BBD', 'NT', '0-1'),
(2009, 4, '2009-03-07', 'KKH', 'TPY', 'NT', '1-0'),
(2009, 4, '2009-03-07', 'BBD', 'GDT', 'GD', '2-2');

INSERT INTO BANGXH_BienNC (MACLB_0101, NAM_0101, VONG_0101, SOTRAN_0101, THANG_0101, HOA_0101, THUA_0101, HIEUSO_0101, DIEM_0101, HANG_0101)
VALUES
('BBD', 2009, 1, 1, 1, 0, 0, '3-0', 3, 1),
('KKH', 2009, 1, 1, 0, 1, 0, '1-1', 1, 2),
('GDT', 2009, 1, 1, 0, 1, 0, '1-1', 1, 3),
('TPY', 2009, 1, 0, 0, 0, 0, '0-0', 0, 4),
('SDN', 2009, 1, 1, 0, 0, 1, '0-3', 0, 5),

('TPY', 2009, 2, 1, 1, 0, 0, '5-0', 3, 1),
('BBD', 2009, 2, 2, 1, 0, 1, '3-5', 3, 2),
('KKH', 2009, 2, 2, 0, 2, 0, '3-3', 2, 3),
('GDT', 2009, 2, 1, 0, 1, 0, '1-1', 1, 4),
('SDN', 2009, 2, 2, 1, 1, 0, '2-5', 1, 5),

('BBD', 2009, 3, 3, 2, 0, 1, '4-5', 6, 1),
('GDT', 2009, 3, 2, 1, 1, 0, '3-1', 4, 2),
('TPY', 2009, 3, 2, 1, 0, 1, '5-2', 3, 3),
('KKH', 2009, 3, 3, 0, 2, 1, '3-4', 2, 4),
('SDN', 2009, 3, 2, 1, 1, 0, '2-5', 1, 5),


('BBD', 2009, 4, 4, 2, 1, 1, '6-7', 7, 1),
('GDT', 2009, 4, 3, 1, 2, 0, '5-1', 5, 2),
('KKH', 2009, 4, 4, 1, 2, 1, '4-4', 5, 3),
('TPY', 2009, 4, 3, 1, 0, 2, '5-3', 3, 4),
('SDN', 2009, 4, 2, 1, 1, 0, '2-5', 1, 5);
